<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* реализовать игру «Кто хочет стать миллионером?». Т.е. у вас должен быть
         главный объект, содержащий всю логику игры, который будет иметь методы, 
         например метод run, возможно метод init и т.д. В игре должны быть заранее 
         подготовлены список вопросов и ответов (как минимум 5 вопросов). Игра 
         должна приветствовать пользователя, после чего задавать вопросы 
         пользователю и предлагать варианты ответов в виде теста, например:
        Сколько букв в слове "привет":
            a. Пять.
            b. Шесть.
            c. Семь.
            d. Куда я попал?
        Проверять правильный вариант выбрал пользователь или нет, необходимо вести 
        счет. По окончании игры, когда было задано 5 вопросов, вы должны сообщить 
        пользователю его счет и предложить сыграть снова. Также должна быть 
        возможность выхода из игры заранее, если пользователю надоело играть.
        */
        'use strict';

        let questions ={
            question : ['На каком инструменте, как считается, играл древнерусский певец и сказитель Боян?',
                        'В какой из этих стран один из официальных языков - французский?',
                        'В каком году произошла Куликовская битва?',
                        'Какая картина Малевича находится в Русском музее?',
                        'Какой титул имел Дон Кихот?'
                        ],
            answer: [['На виолончели', 'На гуслях', 'На баяне', 'На гитаре'], 
                     ['Кения', 'Эквадор', 'Венесуэла', 'Республика Гаити'],
                     ['1380', '1569', '1616', '1773'],
                     ['Белый квадрат', 'Красный квадрат', 'Чёрный квадрат', '"Точильщик"'],
                     ['Барон', 'Маркиз', 'Идальго', 'Вождь']
                    ],
            answerTrue: [2, 4, 1, 2, 3]
        };
        //--------------------------------------------------------------------
        let askQuestions = {
            ask(){
                for (let i = 0; i < questions.question.length; i++){
                    console.clear();
                    console.log("Игра кто хочет стать миллионером\n");
                    console.log(`Вопрос №${i+1}. ${questions.question[i]}`);
                    
                    for (let j = 0; j < questions.answer[i].length; j++){
                        console.log(`${j+1}. ${questions.answer[i][j]}`);
                    };
                            
                    let userAnswer = parseInt(prompt('введите номер правильного ответа или другой символ для выхода'));

                    if (isNaN(userAnswer)){
                        console.log(`Игра окончена. Ваш счет ${this.cntTrueAnswer} правильных ответов из ${i+1} вопросов.`);
                        return null;
                    };

                    if (userAnswer === questions.answerTrue[i]){
                        this.cntTrueAnswer++;
                    };
                };
            }
        };

        //------------------------------ GAME --------------------------------
        let game = {
            /* Запускает игру. */
            run() {
                // Бесконечный цикл
                while (true) {
                    askQuestions.cntTrueAnswer = 0;
                    askQuestions.ask();

                    console.clear();
                    console.log(`Игра окончена. \nВаш счет ${askQuestions.cntTrueAnswer} правильных ответов из ${questions.question.length} вопросов.`);
                    
                    let nextGame = prompt('Введите любой символ для повторной игры.');
                    
                    if (nextGame === null || nextGame === ''){
                        return null;
                    }
                }
            },
            // Этот метод выполняется при открытии страницы.
            init() {
                console.log("Чтобы начать игру наберите game.run() и нажмите Enter.");
            }
        };
        //-----------------------------------------------------------------------
        game.init();

    </script>
</body>
</html>
